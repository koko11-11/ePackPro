<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestion des Paramètres</title>
    <link rel="stylesheet" href="style.css">
    <style>
        .container {
            display: flex;
        }
        .content {
            flex: 1;
            padding: 20px;
        }
        iframe {
            width: 100%;
            height: 80vh;
            border: none;
            background: white;
        }

    </style>
</head>
<body>
     <header>
        <div class="back-arrow" onclick="window.location.href='/css/dashboard.html'">←</div>

        <div class="sidebar-title">GESTION DES PARAMÈTRES</div>
          <button id="sidebarToggle" aria-label="Toggle sidebar" style="margin-left:auto; font-size:24px; background:none; border:none; color:white; cursor:pointer;">
            ☰
            
    </button>
    </header>

    <div class="container">
        <div class="sidebar">
            <div class="submenu show">          
                  <div class="menu-item active" onclick="showSection('parametres-module')">Paramètres modules</div>
                <div class="submenu-item" onclick="showSection('parametres-generaux')">Paramètres généraux</div>
                <div class="submenu-item" onclick="showSection('systeme')">Système</div>
                <div class="submenu-item" onclick="showSection('impression')">Impression</div>
                <div class="submenu-item" onclick="showSection('interface')">Interface</div>
                <div class="submenu-item" onclick="showSection('email')">Email Solution</div>
                <div class="submenu-item" onclick="showSection('epack')">Epack Connect</div>
                <div class="submenu-item" onclick="showSection('alertes')">Alertes sondes</div>
            </div>
        </div>

        <div class="content">
  
            <iframe id="contentFrame" src="parametres-module.html"></iframe>
        </div>
    </div>
    <div id="sidebarOverlay" class="sidebar-overlay"></div> 
   <script>
    function showSection(page) {
        // إزالة الفئة 'active' من جميع عناصر القائمة الفرعية
        document.querySelectorAll('.submenu-item').forEach(item => {
            item.classList.remove('active');
        });
        // إزالة الفئة 'active' من عنصر القائمة الرئيسي (Paramètres modules)
        // استخدام ?. للتعامل مع عدم وجود العنصر إذا لم يكن هناك عنصر نشط حاليًا
        document.querySelector('.menu-item.active')?.classList.remove('active');

        // إضافة الفئة 'active' إلى العنصر الذي تم النقر عليه
        const clickedItem = event.target;
        clickedItem.classList.add('active');

        document.getElementById('contentFrame').src = page + ".html";
        if (window.innerWidth <= 768) {
            closeSidebar();
        }
    }

    // عند تحميل الصفحة، تأكد من أن "Paramètres modules" هو النشط افتراضيًا
    document.addEventListener('DOMContentLoaded', () => {
        // تأكد من أن أول عنصر قائمة (Paramètres modules) هو النشط عند تحميل الصفحة
        document.querySelector('.menu-item').classList.add('active');
    });

    // ... (بقية كود JavaScript الخاص بالشريط الجانبي) ...
    const sidebar = document.querySelector('.sidebar');
    const toggleBtn = document.getElementById('sidebarToggle');
    // تأكد من وجود عنصر sidebarOverlay في HTML إذا كنت تستخدمه
    const overlay = document.getElementById('sidebarOverlay');
    const mainContent = document.querySelector('.content');

    function openSidebar() {
        sidebar.classList.add('active');
        if (overlay) overlay.classList.add('active'); // تحقق من وجود overlay قبل إضافة الفئة
    }

    function closeSidebar() {
        sidebar.classList.remove('active');
        if (overlay) overlay.classList.remove('active'); // تحقق من وجود overlay قبل إزالة الفئة
    }

    toggleBtn.addEventListener('click', () => {
        if (sidebar.classList.contains('active')) {
            closeSidebar();
        } else {
            openSidebar();
        }
    });

    if (overlay) overlay.addEventListener('click', closeSidebar); // تحقق من وجود overlay قبل إضافة المستمع

    document.querySelectorAll('.menu-item, .submenu-item').forEach(item => {
        item.addEventListener('click', closeSidebar);
    });

    window.addEventListener('resize', () => {
        if (window.innerWidth > 768) {
            closeSidebar();
        }
    });
</script>
</body>
</html>
